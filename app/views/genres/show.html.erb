<div class="flash">
  <p class="text-center">
    <span class="text-primary"><%= notice %></span>
    <span class="text-danger"><%= alert %></span>
  </p>
</div>

<h3 class="text-center pt-5 text-break">
  <%= @genre.name %><br><br>
  <% if @genre.owner_id == current_user.id %>
    <%= link_to "編集する", edit_genre_path(@genre.id), class:"btn btn-success" %>
  <% end %>
  <%= link_to "ジャンルガイド", genre_genre_details_path(@genre.id), class:"btn btn-primary" %><br><br>
  投稿一覧
</h3>

<% unless @genre_posts.blank? %>
  <table class="table table-hover table-inverse mt-5">
    <thead>
      <tr class="table-active">
        <th>投稿日時</th>
        <th>投稿者</th>
        <th>タイトル</th>
        <th>投稿内容</th>
      </tr>
    </thead>
    <tbody>
      <% @genre_posts.each do |post| %>
        <tr>
          <td><%= post.created_at.strftime("%Y/%m/%d %H:%M") %></td>
          <td><%= post.user.name.truncate(10) %></td>
          <td>
            <%= link_to post.title.truncate(10), post_path(post) %>
          </td>
          <td><%= post.body.truncate(10) %></td>
        </tr>
      <% end %>
    </tbody>
  </table>
  <%= paginate @genre_posts %>
<% else %>
  <p class="text-center pt-5">該当項目が見つかりませんでした。</p>
<% end %>
